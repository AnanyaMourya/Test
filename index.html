<!DOCTYPE html>
<html>
<head><title>RxHelper Prototype</title></head>
<body style="font-family: Arial; padding: 50px;">
    <h1>RxHelper: Prescription Audit</h1>
    <input type="file" id="upload">
    <button onclick="check()">Analyze</button>
    <div id="res" style="margin-top:20px; border:1px solid #000; padding:10px; display:none">
        <h3>Results:</h3>
        <p id="flags" style="color:red"></p>
        <p id="meds"></p>
    </div>
    <script>
        async function check() {
            let fd = new FormData();
            fd.append('file', document.getElementById('upload').files[0]);
            let res = await fetch('/analyze', {method: 'POST', body: fd});
            let data = await res.json();
            document.getElementById('res').style.display = 'block';
            document.getElementById('flags').innerText = data.results.flags.join(", ");
            document.getElementById('meds').innerText = "Meds found: " + data.results.medications.join(", ");
        }
    </script>
</body>
</html>
